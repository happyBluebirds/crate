==================
Unreleased Version
==================

Changelog
=========

 - Added cluster checks that warn if some tables need to be recreated
   or upgraded for compatibility with future versions of CrateDB.

 - Added functionality to monitor query runtime statistics via JMX.
   This feature can only be used with an enterprise license.

 - Added a new parameter ``upgrade_segments`` to the ``OPTIMIZE`` statement
   which enables the upgrade of tables and tables partitions to the current
   version of the storage engine.

 - Added new column ``min_lucene_version`` to ``sys.shards`` table,
   which shows the oldest lucene segment version used in the shard.

 - Remove restriction to run ``OPTIMIZE`` on blob tables.

 - UDC: add the ``enterprise`` field to the ``UDC`` ping.
   The field identifies whether a user uses the enterprise version.

 - Added the ``licence.enterprise`` setting to the cluster settings.

 - Fixed validation of known configuration file settings. The settings are also
   validated upon start-up.

 - Updated crate-admin to ``1.1.1`` which includes the following changes:

    - Improved console results table, including data type based colorization,
       alternating row colorization, structured object/array formatting,
       human-readable timestamps, Google Maps link on geo-point
       results & lazy loading on result sets larger than 100 rows.

 - BREAKING: The TableFunctionImplementation interface was streamlined
   with other function implementation semantics. This requires
   function implementation plugins to be adapted to the new interface.

 - It is now supported to order and group by predicate functions in general
   with the exception of the `match` predicate.

 - Selecting ``os['timestamp'] from ``sys.nodes`` returns the actual timestamp
   of each node clock at the time of collecting the metric instead of the
   timestamp on the handler node.

 - BREAKING: Removed deprecated setting ``indices.fielddata.breaker`` that have
   been used as an alias for ``indices.breaker.fielddata``.

 - Added scalar function ``geohash`` that returns a GeoHash representation of
   a ``geo_point``

 - Added support for casting JSON strings to object columns.

 - The array comparison no longer requires extra parentheses for subselects.
   Now it's possible to use `` = ANY (SELECT ...)`` instead of
   `` = ANY ((SELECT ...))``

 - DEPRECATED: multicast discovery has been deprecated in this release, and will be
   removed in the 1.1 release.
   Multicast discovery is disabled by default.

 - BREAKING: Serve admin ui from ``/``
   Admin UI is not accessible via ``_plugin/crate-admin`` anymore. Only via
   ``/admin`` or ``/``.

 - Allow semi-colon (;) in the end of simple SQL statements.

 - Enhanced performance optimisation of full joins by rewriting them to left,
   right or inner joins when conditions in ``WHERE`` exclude null values.

 - Added support for filtering and ordering on ``ignored`` object columns.

 - Added support for the double colon (::) cast operator.

 - Upgraded the parser from ANTLR3 to ANTLR4.
